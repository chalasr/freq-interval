<!DOCTYPE html>
<html ng-app="aliapur">
  <head>
    <meta charset="utf-8">
    <title>ALIAPUR</title>
  </head>
  <body ng-controller="MainCtrl as main">
    <div id="main">
      {{ main.count }} - {{ main.getDatetime | date:'HH:mm:ss' }}
    </div>
    <script type="text/javascript" src="assets/jquery.js"></script>
    <script type="text/javascript" src="assets/angular.min.js"></script>
    <script type="text/javascript">
      (function(app){

          function MainCtrl($interval){
              var vm = this;
              var currentDate = new Date();
              var currentDay = new Date().getDate();
              this.workDays = [];
              var day = 13;
              for (var i = 1; i < 6; i++) {
                  if(day < 19) {
                      vm.workDays[day] = {};
                  }
              }
              this.workDays[13] = { count: 0, final: 173844 } // Tuesday 13
              this.workDays[14] = { count: 173844, final: 352572 } // Wednesday 14
              this.workDays[15] = { count: 352572, final: 547800 } // Thursday 15
              this.workDays[16] = { count: 547800, final: 707916 } // Friday 16
              this.workDays[17] = { count: 707916, final: 707916 } // Saturday 17
              var currentDay = 13;
              vm.init = $interval(function() {
                  vm.getDatetime = new Date();
              }, 1000 );
              this.count = this.workDays[currentDay].count;
              this.finalCount = this.workDays[currentDay].final;
              var fullTime = 129600; // seconds x 4 (9h = 540min = 32400sec)
              var increment = this.finalCount / fullTime;
              this.myInterval = $interval(function() {
                  (vm.count < vm.finalCount) ? vm.count = parseInt((vm.count + increment), 0) : vm.stopInterval();
              }, 250);

              this.stopInterval = function() {
                  $interval.cancel(vm.myInterval);
                  vm.count = vm.finalCount;
              };

          };

          app.controller('MainCtrl', MainCtrl);

      })(angular.module('aliapur', []));

    </script>

  </body>
</html>
